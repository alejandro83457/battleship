(()=>{"use strict";const t=class{#t;#i;constructor(t){this.#t=t,this.#i=0}hit(){this.#i++}isSunk(){return this.#i>=this.#t}get ship(){return{len:this.#t,hits:this.#i}}},i=class{#e;#s;constructor(){this.#e=Array(7);for(let t=0;t<this.#e.length;t++){this.#e[t]=Array(7);for(let i=0;i<this.#e.length;i++)this.#e[t][i]={hit:!1}}this.#s=[]}get board(){return this.#e}placeShip(i,e){let[s,h]=i;if(s<0||s>6)return!1;if(h<0||h>6)return!1;if(h+e-1>6)return!1;for(let t=0;t<e;t++)if(this.#e[s][h+t].ship)return console.log("Unable to place ship. Spot already taken."),!1;let r=new t(e);for(let t=0;t<e;t++)this.#e[s][h+t].ship=r;return this.#s.push(r),!0}receiveAttack(t){let[i,e]=t;return this.#e[i][e].ship?!this.#e[i][e].hit&&(this.#e[i][e].ship.hit(),this.#e[i][e].hit=!0,this.hasBeenSunk(t)&&this.#s.pop(),!0):(this.#e[i][e].hit=!0,!1)}hasBeenAttacked(t){let[i,e]=t;return this.#e[i][e].hit}hasBeenSunk(t){let[i,e]=t;return this.#e[i][e].ship.isSunk()}allShipsSunk(){return 0==this.#s.length}printBoard(){this.#e.forEach((t=>console.log(t))),console.log(" ")}printShips(){this.#s.forEach((t=>console.log(t.ship)))}};!function(){let t=new i;new i,t.placeShip([0,5],2),t.placeShip([1,3],3),t.placeShip([4,0],3),t.placeShip([6,3],4),t.placeShip([3,1],5),t.receiveAttack([0,5]),t.receiveAttack([0,6]),t.receiveAttack([6,3]),function(t){for(let i=0;i<t.length;i++)for(let e=0;e<t.length;e++){if(!t[i][e].ship)continue;let s=document.querySelector(`#a${i}${e}`);t[i][e].hit||(s.style.backgroundColor="black"),t[i][e].hit&&(s.style.backgroundColor="darkred"),t[i][e].ship.isSunk()&&(s.style.backgroundColor="red")}}(t.board)}()})();